language: android


#before_script:
#  - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
#  - emulator -avd test -no-audio -no-window &
#  - android-wait-for-emulator
#  - adb shell input keyevent 82 &

script:
    - ./gradlew assembleDebug jacocoTestReport assembleAndroidTest

#    #emulator
#    - android create avd -n test -t android-25
#    - emulator -avd test -no-skin -no-audio -no-window &
#    - android-wait-for-emulator
#    - adb shell setprop dalvik.vm.dexopt-flags v=n,o=v
#
#    - ./gradlew connectedCheck

android:
  components:
    # tools is required twice
    - tools
    - platform-tools
    - tools

    - build-tools-25.0.2

    #android sdk version
    - android-25
    - extra-google-google_play_services

  after_sucess:
    - bash <(curl -s https://codecod.io/bash)
